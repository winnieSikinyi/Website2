"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[7159],{9706:(e,t,n)=>{n.d(t,{L:()=>i});var o=n(57842);const i=n(74235).kr9(o.YP)},67159:(e,t,n)=>{n.d(t,{q:()=>Q,Z:()=>L});var o={};n.r(o),n.d(o,{load_more_button_label:()=>Z});var i=n(85893),r=n(3735),l=n(30845),s=n(86706),a=n(91384),c=n(66132),d=n(46954),h=n(70549),p=n(18711),u=n(48944),f=n(4094),I=n(43882),g=n(69184),m=n(57842),S=n(87976),b=n(6464),O=n(93416),v=n(15964),x=n(9435),P=n(74235),j=n(4991),R=n(55360),N=n(6671),y=n(9706);const E="gDCZZ",A="HxaG2",q="ATnvl",_="dycl5",k="PwSsU O84oE",w="rx4AP";var C=n(73505);n(60860),n(37105),n(27306);const Z=()=>"Load more photos",B=e=>o,F=(0,C.G)(B);function J(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Q=()=>(0,i.jsx)(P.tJQ,{className:A,children:(0,i.jsx)(P.tJQ,{className:q,children:f.w6H(0,17).map((e=>(0,i.jsx)(P.tJQ,{className:_,children:(0,i.jsx)(P.tJQ,{className:k})},e)))})}),D=(0,O.DO)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:I.HP((()=>(0,i.jsx)(j.Z,{type:"photos"}))),getPlaceholderEl:I.HP((()=>(0,i.jsx)(Q,{})))}),T=S.Ue();class U extends P.wA2{constructor(){super(...arguments),J(this,"getInfiniteScrollSetting",(e=>{let{shouldRequireInfiniteScrollOptIn:t}=e;return t?T.mk.OptInRequired({optedIn:!1}):T.mk.Enabled})),J(this,"state",{infiniteScrollSetting:this.getInfiniteScrollSetting(this.props)}),J(this,"toggleInfiniteScrollOptIn",(()=>{const{infiniteScrollSetting:e}=this.state;T.match({OptInRequired:e=>{let{optedIn:t}=e;const n=T.mk.OptInRequired({optedIn:(0,b.U_)(t)});this.setState({infiniteScrollSetting:n})},[S._]:r.Q1})(e)})),J(this,"fetchDataAndBuildActions",(0,l.Z)((e=>(0,r.ls)(e,g.UI((0,r.ls)(u.Yq,h.N.traverseArray(h.dp),(e=>{let[t,n]=e;return[(0,c.VA)(n),c.aU.mk.HandleNextPhotoFeedPageResponse({feedId:this.props.feedId,photoIds:t.map((e=>e.id))})]}))))))),J(this,"createPhotoFeedIdContextValue",(0,l.Z)((e=>m.G(e))))}UNSAFE_componentWillReceiveProps(e){if(e.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){const t=this.getInfiniteScrollSetting(e);this.setState({infiniteScrollSetting:t})}}render(){const{photoFeedOption:e,photosOption:t,children:n,getNoContentEl:o,getPlaceholderEl:r,renderBeneathLoadMoreButton:l,feedId:s,fetchPhotos:a,notifier$:c,intersectionObserverRoot:h,intersectionObserverRootMarginBottom:p,t:u}=this.props,{infiniteScrollSetting:f}=this.state,I=!1===T.match({OptInRequired:e=>{let{optedIn:t}=e;return t},Enabled:()=>!0})(f);return(0,i.jsx)(y.L.Provider,{value:this.createPhotoFeedIdContextValue(s),children:(0,i.jsx)(R.f,{renderItems:n,feedItemsOption:t,feedStateOption:e,getScrollFooterEl:()=>(0,i.jsx)(P.tJQ,{className:w,children:T.match({OptInRequired:e=>{let{optedIn:t}=e;return t?(0,i.jsx)(N.Z,{}):(0,i.jsxs)(P.PRT,{children:[(0,i.jsx)(P.tJQ,{className:E,children:(0,i.jsx)(P.Jgb,{className:(0,x.yO)({type:x.L$.Outline}),onClick:this.toggleInfiniteScrollOptIn,type:"button",children:u.load_more_button_label()})}),l?.()]})},Enabled:()=>(0,i.jsx)(N.Z,{})})(f)}),getNoContentEl:o,getPlaceholderEl:r,shouldDisableInfiniteScroll:I,fetchDataAndBuildActions:this.fetchDataAndBuildActions(a),notifier$:c,intersectionObserverRoot:h,intersectionObserverRootMarginBottom:p},d.un(s))})}}const H=(0,p.O)()((()=>{const e=(0,v.XT)(),t=(0,v.u0)();return(n,o)=>({photoFeedOption:e(n,o.feedId),photosOption:t(n,o.feedId)})})),L=(0,r.zG)(U,(0,s.$j)(H),F,(e=>(0,a.b9)(e,D)))}}]);
//# sourceMappingURL=7159.9afc1a28d6f825347816.js.map